---
layout: post
title:  "My Apprenticeship with BIDS"
date:   2017-05-03 20:00:00 -0700
categories: experience
img: "bids_img.png"
---
Beginning my second year of college, I was accepted for an Undergraduate Research Apprentice position with the Berkeley Institute for Data Science (BIDS). My job was not focused on the research, but rather focused on the software engineering aspect. I experienced good software development practices and learned what it was like to contribute to an open source project. All code was in Python. In my two semesters with the organization, I learned how to contribute to open source projects on Github, set up development environments, handle a large code base, integrate libraries, and work in a team.

# Fall 2016: Music Analysis
The first group that I was put on was in charge of analyzing music to identify features. They had some weird names, such as "spectral centroid," "fluctuation entropy," and "pulse clarity," to name a few. This would then be used to analyze fMRI data of test subjects that listened to certain music files, which would correlate certain features to brain activity. I was stoked to participate in this group because of the fusion of my passions for music and computer science!

My main role was to evaluate the existing code base, create tests with coverage, and integrate Travis-CI for continuous integration. Initially, this proved difficult, because I never had to dive into someone else's code before. From this experience I learned that it was impossible to take in everything at once; I had to understand what each individual function did, then move on. Additionally I experienced what it was like to learn new libraries, such as numpy and librosa. Perhaps the most difficult challenge I met was implementing continuous integration. It was frustrating to see tests pass on my local machine, but fail on Travis-CI. This problem mainly boiled down to errors in our library installation process. Addressing these issues gave me insight on how to set up a develpoment environment and ensure that it is consistent across operating systems.

# Spring 2017: Time Series Analysis
This project focused on analyzing time series, which is basically waves, and is similar to the music analysis. The main library we worked with was [Cesium](http://cesium-ml.org/), and my main role was to create a user interface tour using the React Joyride library.

![Cesium Screenshot]({{ site.url }}/images/cesium1.png)

The code base for the web app was much more complex that the prior semester. I ended up having to work with various web technologies such as React, Redux, Tornado, and peewee. The most challenging aspect was figuring out how the front-end interacted with the back-end. One job I had was to create a button that created an example dataset for the user to play with. Originally I thought this was a simple task, as I had created simple HTML buttons with javascript actions before. However, this turned out to be much more complex than I anticipated. I had to figure out React and Redux worked, as well as how it dispatches actions via Tornado. The prior semester's experience greatly helped as I had already experienced how to learn and integrate libraries, but it was difficult learning how they all worked together.

Here is an example of a [Flux Standard Action](https://github.com/acdlite/flux-standard-action) that I had to create: 
```
// Create example dataset
export function createExampleDataset(projectID) {
  var form_data = new FormData();
  form_data.append('projectID', projectID);
  form_data.append('create_example', true);

  return dispatch =>
    promiseAction(
      dispatch,
      CREATE_EXAMPLE_DATASET,

      fetch('/dataset', {
        method: 'POST',
        body: form_data,
      })
        .then(response => response.json())
        .then((json) => {
            dispatch(fetchDatasets());
            dispatch(hideExpander('newDatasetExpander'));
            dispatch(resetForm('newDataset'));
          }).catch(ex => console.log('createExampleDataset', ex))
    );
}
```

At first glance, figuring out how to create an action was a daunting task. Fortunately, with the help of my mentor Stefan, I was able to eventually implement the various libraries used to create this simple action.

# Final Thoughts
I am grateful that this opportunity gave me perspective on what working in the software engineering industry is like. Previously, with my classwork, I saw programming as a straightforward task; sit down, code from scratch, and submit on Gradescope. With BIDS, I found that software engineering required lots of meetings, code reviews, working with a code base made by someone else, and lots more Google to figure out how to integrate the various libraries and technologies used. I now use the skills learned in this position to maintain good software engineering practices in my personal projects. Every personal project I create now is made in an open-source style on Github, with a development environment that is reproducible on any machine. Overall, this was a great educational experience and I hope to continue learning about software engineering outside of my classes!